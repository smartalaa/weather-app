<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Weather Prototype</title>
<style>
body { font-family: system-ui; margin: 2rem; }
#result { margin-top: 1rem; }
</style>
</head>
<body>
<h1>Weather Prototype</h1>
<form id="f">
  <input id="city" placeholder="City" required />
  <button>Fetch</button>
</form>
<pre id="result"></pre>
<script>
document.getElementById('f').addEventListener('submit', async e => {
  e.preventDefault();
  const city = document.getElementById('city').value.trim();
  const out = document.getElementById('result');
  out.textContent = 'Loading...';
  try {
    const res = await fetch('/api/weather?city=' + encodeURIComponent(city));
    const json = await res.json();
    out.textContent = JSON.stringify(json, null, 2);
  } catch(err) {
    out.textContent = 'Error: ' + err.message;
  }
});
</script>
</body>
</html>